#!/usr/bin/env bash

header() {
    tput setaf 242
    printf "## $1\n\n"
    tput sgr0
}

run() {
    eval "$1"
    printf "\n\n"
}

# Show info similar to svn

header "Remote URLs:"
run "git remote -v"

header "Remote Branches:"
run "git branch -r --color=always"

header "Local Branches:"
run "git branch --color=always"

header "Most Recent Commit:"
run "git --no-pager log --max-count=1 --pretty=short --color=always"

if [[ "$1" != "--no-config" ]] && [[ "$1" != "-n" ]]; then
  header "Configuration (.git/config):"
  git --no-pager config --list
fi
